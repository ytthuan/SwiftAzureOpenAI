{
  "notes" : "Function calls (weather and math) in non-streaming mode",
  "requestBody" : "{\"max_output_tokens\":200,\"model\":\"gpt-5-nano\",\"stream\":false,\"tools\":[{\"name\":\"get_weather\",\"parameters\":{\"type\":\"object\",\"properties\":{\"location\":{\"description\":\"The city and country, e.g. 'Tokyo, Japan'\",\"type\":\"string\"}},\"required\":[\"location\"]},\"type\":\"function\",\"description\":\"Get current weather for a location\"},{\"name\":\"calculate_math\",\"parameters\":{\"type\":\"object\",\"required\":[\"expression\"],\"properties\":{\"expression\":{\"description\":\"Mathematical expression to evaluate\",\"type\":\"string\"}}},\"type\":\"function\",\"description\":\"Perform mathematical calculations\"}],\"input\":[{\"role\":\"system\",\"content\":[{\"type\":\"input_text\",\"text\":\"You are a helpful assistant with access to weather data and calculation capabilities.\"}]},{\"role\":\"user\",\"content\":[{\"text\":\"What's the weather in Tokyo? Also calculate 15 * 23.\",\"type\":\"input_text\"}]}]}",
  "responseBody" : "{\n  \"id\": \"resp_68c62dec0990819086df5a16ee000e1b073774cf9f0dfa97\",\n  \"object\": \"response\",\n  \"created_at\": 1757818348,\n  \"status\": \"incomplete\",\n  \"background\": false,\n  \"content_filters\": null,\n  \"error\": null,\n  \"incomplete_details\": {\n    \"reason\": \"max_output_tokens\"\n  },\n  \"instructions\": null,\n  \"max_output_tokens\": 200,\n  \"max_tool_calls\": null,\n  \"model\": \"gpt-5-nano\",\n  \"output\": [\n    {\n      \"id\": \"rs_68c62dec55d88190b7ea0bf703f6fe2c073774cf9f0dfa97\",\n      \"type\": \"reasoning\",\n      \"summary\": []\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"prompt_cache_key\": null,\n  \"reasoning\": {\n    \"effort\": \"medium\",\n    \"summary\": null\n  },\n  \"safety_identifier\": null,\n  \"service_tier\": \"default\",\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"text\"\n    }\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [\n    {\n      \"type\": \"function\",\n      \"description\": \"Get current weather for a location\",\n      \"name\": \"get_weather\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"location\": {\n            \"description\": \"The city and country, e.g. 'Tokyo, Japan'\",\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"location\"\n        ],\n        \"additionalProperties\": false\n      },\n      \"strict\": true\n    },\n    {\n      \"type\": \"function\",\n      \"description\": \"Perform mathematical calculations\",\n      \"name\": \"calculate_math\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"expression\"\n        ],\n        \"properties\": {\n          \"expression\": {\n            \"description\": \"Mathematical expression to evaluate\",\n            \"type\": \"string\"\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"strict\": true\n    }\n  ],\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 113,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 192,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 192\n    },\n    \"total_tokens\": 305\n  },\n  \"user\": null,\n  \"metadata\": {}\n}",
  "responseHeaders" : {
    "Apim-Request-Id" : "a03202a5-0db3-4463-aeb3-2db9e8c07cb9",
    "Azure-Openai-Data-Collection" : "true",
    "Connection" : "close",
    "Content-Type" : "application\/json",
    "Date" : "Sun, 14 Sep 2025 02:52:28 GMT",
    "Strict-Transport-Security" : "max-age=31536000; includeSubDomains; preload",
    "Transfer-Encoding" : "chunked",
    "X-Content-Type-Options" : "nosniff",
    "X-Inference-Lb-Proxy-Warmup-Variants" : "api",
    "X-Kv-Partition-Key" : "fixed",
    "X-Ms-Cmp-Host" : "cmp.norwayeast.hyena.infra.ai.azure.com",
    "X-Ms-Deployment-Name" : "gpt-5-nano",
    "X-Ms-Oai-Backend-Host" : "https:\/\/n-gpt43-noe-a1-oai-oe-hbzqt9.norwayeast.inference.ml.azure.com",
    "X-Ms-Oai-M4-Input-Cls-Host" : "https:\/\/n-saf9a-noe-a1-oai-oe-foh8t1.norwayeast.inference.ml.azure.com",
    "X-Ms-Oai-M4-Input-Cls-Traffic-Group" : "aoai-safety-online",
    "X-Ms-Oai-M4-Output-Cls-Host" : "https:\/\/n-saf1b-noe-a1-oai-oe-7kt3dl.norwayeast.inference.ml.azure.com",
    "X-Ms-Oai-M4-Output-Cls-Traffic-Group" : "aoai-safety-online",
    "X-Ms-Region" : "East US 2",
    "X-Ratelimit-Limit-Requests" : "200",
    "X-Ratelimit-Limit-Tokens" : "200000",
    "X-Ratelimit-Remaining-Requests" : "198",
    "X-Ratelimit-Remaining-Tokens" : "199156",
    "X-Request-Id" : "44c4c1e2-0e4b-49cb-a26e-fd119f5146f8"
  },
  "responseStatus" : 200,
  "testCase" : "tool_call_function_non_streaming",
  "timestamp" : "2025-09-14T02:52:29Z"
}